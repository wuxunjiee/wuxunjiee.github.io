<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>手摸手使用GitHub Pages + GitHub Actions自动化部署项目/博客 | Hello 艾瑞巴蒂</title>
    <meta name="description" content="Just playing around">
    
    
    <link rel="preload" href="/assets/css/0.styles.d4d1289e.css" as="style"><link rel="preload" href="/assets/js/app.982a5476.js" as="script"><link rel="preload" href="/assets/js/2.65618a35.js" as="script"><link rel="preload" href="/assets/js/6.8cf33e75.js" as="script"><link rel="prefetch" href="/assets/js/10.d1e7bc68.js"><link rel="prefetch" href="/assets/js/11.10f57714.js"><link rel="prefetch" href="/assets/js/12.d88b7561.js"><link rel="prefetch" href="/assets/js/13.a65f370b.js"><link rel="prefetch" href="/assets/js/14.1cdbbae9.js"><link rel="prefetch" href="/assets/js/15.d051339e.js"><link rel="prefetch" href="/assets/js/16.9d9a31db.js"><link rel="prefetch" href="/assets/js/17.09594df2.js"><link rel="prefetch" href="/assets/js/18.9915ec96.js"><link rel="prefetch" href="/assets/js/19.34446a49.js"><link rel="prefetch" href="/assets/js/20.bdcf137a.js"><link rel="prefetch" href="/assets/js/21.2955a6d9.js"><link rel="prefetch" href="/assets/js/22.aee7bdbb.js"><link rel="prefetch" href="/assets/js/23.ca72576e.js"><link rel="prefetch" href="/assets/js/24.e5dfe154.js"><link rel="prefetch" href="/assets/js/3.29145992.js"><link rel="prefetch" href="/assets/js/4.9fe59de7.js"><link rel="prefetch" href="/assets/js/5.e0fcbeb8.js"><link rel="prefetch" href="/assets/js/7.e3551b48.js"><link rel="prefetch" href="/assets/js/8.3f420de8.js"><link rel="prefetch" href="/assets/js/9.87c0c215.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d4d1289e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Hello 艾瑞巴蒂</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/sass/" class="nav-link">Sass</a></div><div class="nav-item"><a href="/wheel/" class="nav-link">wheel</a></div><div class="nav-item"><a href="/Q&amp;A/" class="nav-link router-link-active">Q&amp;A</a></div><div class="nav-item"><a href="/mobile/" class="nav-link">mobile</a></div><div class="nav-item"><a href="/theory/" class="nav-link">深入原理</a></div><div class="nav-item"><a href="/optimize/" class="nav-link">性能优化</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/sass/" class="nav-link">Sass</a></div><div class="nav-item"><a href="/wheel/" class="nav-link">wheel</a></div><div class="nav-item"><a href="/Q&amp;A/" class="nav-link router-link-active">Q&amp;A</a></div><div class="nav-item"><a href="/mobile/" class="nav-link">mobile</a></div><div class="nav-item"><a href="/theory/" class="nav-link">深入原理</a></div><div class="nav-item"><a href="/optimize/" class="nav-link">性能优化</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Q&amp;A/" class="sidebar-link">大文件上传</a></li><li><a href="/Q&amp;A/websocket.html" class="sidebar-link">WebSocket 简介</a></li><li><a href="/Q&amp;A/login.html" class="sidebar-link">登录态失效重新登录成功后跳回之前页面解决方案</a></li><li><a href="/Q&amp;A/skills.html" class="sidebar-link">开发调试技巧归纳</a></li><li><a href="/Q&amp;A/deploy.html" class="active sidebar-link">手摸手使用GitHub Pages + GitHub Actions自动化部署项目/博客</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Q&amp;A/deploy.html#前置内容" class="sidebar-link">前置内容</a></li><li class="sidebar-sub-header"><a href="/Q&amp;A/deploy.html#第一步-买域名" class="sidebar-link">第一步 买域名</a></li><li class="sidebar-sub-header"><a href="/Q&amp;A/deploy.html#第二步-github-创建项目" class="sidebar-link">第二步 GitHub 创建项目</a></li><li class="sidebar-sub-header"><a href="/Q&amp;A/deploy.html#第三步-使用我们刚刚购买的域名访问这个项目" class="sidebar-link">第三步 使用我们刚刚购买的域名访问这个项目</a></li><li class="sidebar-sub-header"><a href="/Q&amp;A/deploy.html#第四步-github-actions使用讲解" class="sidebar-link">第四步 GitHub Actions使用讲解</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="手摸手使用github-pages-github-actions自动化部署项目-博客"><a href="#手摸手使用github-pages-github-actions自动化部署项目-博客" class="header-anchor">#</a> 手摸手使用GitHub Pages + GitHub Actions自动化部署项目/博客</h1> <h2 id="前置内容"><a href="#前置内容" class="header-anchor">#</a> 前置内容</h2> <p>作为一名初学者，最大的成就感无非就是做出一款产品可以提供给他人使用，并得到别人的认可。比如我刚接触JS的时候，使用原生JS自己去写一个贪吃蛇游戏。或者学习通信协议的时候，使用WebSocket去打造一个简易聊天室，可以几个好基友一起在里面聊天等等。</p> <p>想让我们开发的项目提供给别人使用，我们可能会去尝试去买服务器，买域名，还要去学习一些运维相关的知识。但是我们作为一名前端开发，这样去做成本太大了，而且还有一个很关键的问题就是需要<strong>花钱</strong>。那么有没有一个既可以不用花钱，又可以很简单解决这个问题的解决方案呢？答案是有，就是通过GitHub Pages + GitHub Actions去实现自动化部署项目/博客</p> <p>以前内容为我瞎掰扯的内容，拿来凑紫薯。可跳过（手动🐶）</p> <h2 id="第一步-买域名"><a href="#第一步-买域名" class="header-anchor">#</a> 第一步 买域名</h2> <p>买域名主要出于以下两点原因：（个人推荐阿里云购买）</p> <ul><li><p>域名有语义化，方便记忆和输入</p></li> <li><p>如果不买域名，GitHub Pages默认域名强制开启https协议，https协议下的网站不能访问http接口地址</p></li></ul> <p><a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer">阿里云官网<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>因为购买域名的步骤是在太过简单，不做详细描述，简单罗列步骤（实在不会建议用下淘宝，京东，一样的道理）</p> <p>买域名流程：注册账户-&gt;完成实名认证，邮箱认证-&gt;搜索自己想买的域名 例如xxx.com/xxx.cn/xxx.org-&gt;挑选未注册的域名-&gt;加入购物车-&gt;买单</p> <h2 id="第二步-github-创建项目"><a href="#第二步-github-创建项目" class="header-anchor">#</a> 第二步 GitHub 创建项目</h2> <p><img src="/Q&amp;A/%E5%88%9B%E5%BB%BA%E9%A1%B9%E7%9B%AE.png" alt="创建项目"></p> <ul><li><p>如果仓库名字叫：你的用户名.github.io，则访问的地址是：https://用户名.github.io/</p></li> <li><p>如果是其他名称，则访问地址是：https://用户名.github.io/仓库名称/</p></li></ul> <h3 id="新建个index-html文件，提交代码。github-pages会读取index-html文件作为入口展示你的项目"><a href="#新建个index-html文件，提交代码。github-pages会读取index-html文件作为入口展示你的项目" class="header-anchor">#</a> 新建个index.html文件，提交代码。GitHub Pages会读取index.html文件作为入口展示你的项目</h3> <p><img src="/Q&amp;A/%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%87%E4%BB%B61.png" alt="初始化文件"> <img src="/Q&amp;A/%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%87%E4%BB%B62.png" alt="初始化文件"></p> <ul><li><p>点击settings，选择你的分支
<img src="/Q&amp;A/%E9%80%89%E6%8B%A9%E5%88%86%E6%94%AF1.png" alt="选择分支"></p></li> <li><p>选择成功后你就可以<strong>通过这个地址提供给别人访问我们刚刚写的项目</strong>了，虽然现在里面只有一句代码
<img src="/Q&amp;A/%E9%80%89%E6%8B%A9%E5%88%86%E6%94%AF2.png" alt="选择分支"></p></li> <li><p>在浏览器输入URL地址，现在我看就可以看看我们刚刚写的项目了。这样一个<strong>最简单的项目部署就完成</strong>了
<img src="/Q&amp;A/%E8%AE%BF%E9%97%AE%E9%A1%B9%E7%9B%AE.png" alt="访问项目"></p></li></ul> <h2 id="第三步-使用我们刚刚购买的域名访问这个项目"><a href="#第三步-使用我们刚刚购买的域名访问这个项目" class="header-anchor">#</a> 第三步 使用我们刚刚购买的域名访问这个项目</h2> <p><strong>登录阿里云，点击域名解析-&gt;解析设置-&gt;添加记录</strong> <img src="/Q&amp;A/%E5%9F%9F%E5%90%8D%E8%A7%A3%E6%9E%903.png" alt="域名解析"></p> <ul><li><p>记录类型：CNAME</p></li> <li><p>主机记录：</p> <ul><li>@：访问地址： wuxunjie.域名后嘴</li> <li>www：访问地址： www.wuxunjie.域名后缀</li> <li>abc：访问地址： abc.wuxunjie.域名后缀</li></ul></li> <li><p>记录值： 你的github用户名.github.io</p></li> <li><p>在项目里创建CNAME文件，写入你上一步配置的域名地址
<img src="/Q&amp;A/CNAME2.png" alt="CNAME"></p></li> <li><p>在浏览器输入域名，现在我们就可以通过域名访问我们写的项目里
<img src="/Q&amp;A/%E5%9F%9F%E5%90%8D%E8%AE%BF%E9%97%AE%E9%A1%B9%E7%9B%AE.png" alt="访问项目"></p></li></ul> <h2 id="第四步-github-actions使用讲解"><a href="#第四步-github-actions使用讲解" class="header-anchor">#</a> 第四步 GitHub Actions使用讲解</h2> <p>上述内容只不过是演示里一个最最简单的项目部署，而实际上我们开发的项目不可能只有两个文件，要比这个项目要<strong>复杂</strong>的多。</p> <p>在实际开发中我们往往是这样一个<strong>流程</strong> 使用webpack或其他构建工具打包项目，使用git提交代码，然后部署。</p> <p>手动部署我们大致需要这样去做：新建gh-pages分支，在dist文件夹下初始化git，再提交代码。因为每次打包会先删除dist文件夹再生成新的dist文件夹，所以下次我们提交代码后又要<strong>重复此操作</strong>。所以这其实是一个很繁琐的过程。</p> <p>那么有没有什么办法我们只需要运行打包命令，再提交代码。至于部署可以<strong>自动化部署</strong>不用我们手动操作这么麻烦呢？</p> <p>就像我们生活中觉得每天做饭，洗衣服很麻烦，枯燥。那么我们可以雇佣一个保姆来帮我们去做饭，洗衣服。</p> <p>GitHub Actions也提供这样一个服务，可以把这个服务<strong>简单理解为一个机器人</strong>，去自动帮我们完成这些事，而且是免费的</p> <h3 id="首先，配置token"><a href="#首先，配置token" class="header-anchor">#</a> 首先，配置Token</h3> <p><a href="https://github.com/settings/profile" target="_blank" rel="noopener noreferrer">配置Token地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="/Q&amp;A/%E9%85%8D%E7%BD%AEtoken1.png" alt="配置token"></p> <ul><li>下一步
<img src="/Q&amp;A/%E9%85%8D%E7%BD%AEtoken2.png" alt="配置token"></li> <li>将这个token保存下来，因为只会显示这一次，忘记了下次需要重新生成token了
<img src="/Q&amp;A/%E9%85%8D%E7%BD%AEtoken3.png" alt="配置token"></li> <li>再将生成的token配置到项目的scrects中
<img src="/Q&amp;A/%E9%85%8D%E7%BD%AEtoken4.png" alt="配置token"></li> <li>在项目public文件夹下新建CNAME文件，输入配置的域名
<img src="/Q&amp;A/CNAME6.png" alt="CNAME"></li> <li>在项目根目录添加脚本文件
<img src="/Q&amp;A/%E8%84%9A%E6%9C%AC%E6%96%87%E4%BB%B62.png" alt="脚本文件">
此时，大功告成，我们提交代码，然后Actions查看日志
<img src="/Q&amp;A/%E6%97%A5%E5%BF%971.png" alt="日志"> <img src="/Q&amp;A/%E6%97%A5%E5%BF%972.png" alt="日志"></li></ul> <p>##通过日志可以看到我们自动化部署成功了##</p> <p><strong>现在我们的项目每次只需要将代码提交上去，GitHub Actions会自动触发脚本文件，帮我们自动化部署项目，更新线上的项目代码</strong></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Q&amp;A/skills.html" class="prev">开发调试技巧归纳</a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.982a5476.js" defer></script><script src="/assets/js/2.65618a35.js" defer></script><script src="/assets/js/6.8cf33e75.js" defer></script>
  </body>
</html>
